---
id: com-atproto-repo-apply-writes
title: "com.atproto.repo.applyWrites"
description: "*This endpoint is part of the atproto PDS repository management APIs. Requests usually require authentication (unlike the `com.atproto.sync.*` endpoints), and are made directly to the user's own PDS instance.*"
sidebar_label: "com.atproto.repo.applyWrites"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/api/at-protocol-xrpc-api
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"com.atproto.repo.applyWrites"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/xrpc/com.atproto.repo.applyWrites"}
  context={"endpoint"}
>
  
</MethodEndpoint>



*This endpoint is part of the atproto PDS repository management APIs. Requests usually require authentication (unlike the `com.atproto.sync.*` endpoints), and are made directly to the user's own PDS instance.*

*To learn more about calling atproto API endpoints like this one, see the [API Hosts and Auth](/docs/advanced-guides/api-directory) guide.*

Apply a batch transaction of repository creates, updates, and deletes. Requires auth, implemented by PDS.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["repo","writes"],"properties":{"repo":{"type":"string","description":"The handle or DID of the repo (aka, current account).","format":"at-identifier"},"validate":{"type":"boolean","description":"Can be set to 'false' to skip Lexicon schema validation of record data across all operations, 'true' to require it, or leave unset to validate only for known Lexicons."},"writes":{"type":"array","items":{"oneOf":[{"type":"object","description":"Operation which creates a new record.","required":["collection","value"],"properties":{"collection":{"type":"string","format":"nsid"},"rkey":{"type":"string","maxLength":512},"value":{}},"title":"com.atproto.repo.applyWrites.create"},{"type":"object","description":"Operation which updates an existing record.","required":["collection","rkey","value"],"properties":{"collection":{"type":"string","format":"nsid"},"rkey":{"type":"string"},"value":{}},"title":"com.atproto.repo.applyWrites.update"},{"type":"object","description":"Operation which deletes an existing record.","required":["collection","rkey"],"properties":{"collection":{"type":"string","format":"nsid"},"rkey":{"type":"string"}},"title":"com.atproto.repo.applyWrites.delete"}]}},"swapCommit":{"type":"string","description":"If provided, the entire operation will fail if the current repo commit CID does not match this value. Used to prevent conflicting repo mutations.","format":"cid"}}}}}}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","required":[],"properties":{"commit":{"type":"object","required":["cid","rev"],"properties":{"cid":{"type":"string","format":"cid"},"rev":{"type":"string"}},"title":"com.atproto.repo.defs.commitMeta"},"results":{"type":"array","items":{"oneOf":[{"type":"object","required":["uri","cid"],"properties":{"uri":{"type":"string","format":"at-uri"},"cid":{"type":"string","format":"cid"},"validationStatus":{"type":"string","enum":["valid","unknown"]}},"title":"com.atproto.repo.applyWrites.createResult"},{"type":"object","required":["uri","cid"],"properties":{"uri":{"type":"string","format":"at-uri"},"cid":{"type":"string","format":"cid"},"validationStatus":{"type":"string","enum":["valid","unknown"]}},"title":"com.atproto.repo.applyWrites.updateResult"},{"type":"object","required":[],"properties":{},"title":"com.atproto.repo.applyWrites.deleteResult"}]}}}}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"type":"object","required":["error","message"],"properties":{"error":{"type":"string","enum":["InvalidRequest","ExpiredToken","InvalidToken","InvalidSwap"]},"message":{"type":"string"}}}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"type":"object","required":["error","message"],"properties":{"error":{"const":"AuthMissing"},"message":{"type":"string"}}}}}}}}
>
  
</StatusCodes>


      